C251 COMPILER V5.60.0,  main                                                               25/05/24  09:55:38  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Out_File\main.obj
COMPILER INVOKED BY: E:\keil5\C251\BIN\C251.EXE ..\USER\src\main.c XSMALL INTR2 ROM(HUGE) WARNINGLEVEL(3) BROWSE INCDIR(
                    -..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\USER\inc;..\
                    -USER\src) DEBUG PRINT(.\Out_File\main.lst) OBJECT(.\Out_File\main.obj) 

stmt  level    source

    1          #include "headfile.h"
    2          void all_init()
    3          {
    4   1              ips114_init();                                                                                                                                                                  //1.14´çÒº¾§ÆÁ³õÊ¼»¯
    5   1              ADC_int();                                                                                                                                                                              //ADC²É¼¯³õÊ¼»¯
    6   1              ips114_showstr(0,0,(unsigned char*)"Electromagnetic-Car");//×Ö·û´®ÏÔÊ¾
    7   1              ips114_showstr(0,1,"interlize...");
    8   1              delay_ms(500);
    9   1              pwm_init(PWMB_CH4_P77, 50, 0);                             //·äÃùÆ÷³õÊ¼»¯
   10   1              init_PWM(MOTOR_MODE_SELECT);                               //³õÊ¼»¯DRVÇý¶¯·½Ê½£¨1-DRV/0-BTN£©   
   11   1              encoder_init();                                            //±àÂëÆ÷³õÊ¼»¯
   12   1              wireless_uart_init();                                      //ÎÞÏßÀ¶ÑÀ³õÊ¼»¯
   13   1              BUZZ_DiDiDi(200);                                          //·äÃùÆ÷µÎÒ»Éù
   14   1              delay_ms(50);
   15   1              gpio_mode(Reed_Switch_Pin,GPO_PP);                         //Í£³µÊ¶±ðµÄ¸É»É¹ÜIO³õÊ¼»¯
   16   1        PID_int();                                                 //PID²ÎÊý³õÊ¼»¯                             
             -           
   17   1      //      while(imu660ra_init())                                     //ÍÓÂÝÒÇ³õÊ¼»¯
   18   1      //      {
   19   1      //              ips114_showstr(0,2,"IMU660RA_int...");                   //ÓÃwhileÐ´·¨Ö±µ½³õÊ¼»¯³É¹¦²Å»áÍË³öÑ­»·
   20   1      //              delay_ms(500);
   21   1      //      }
   22   1              ips114_showstr(0,3,"IMU660RA_int...");
   23   1      //      while(dl1a_init())                                         //±ÜÕÏÄ£¿é³õÊ¼»¯
   24   1      //      {
   25   1      //              ips114_showstr(0,4,"dlla_int...");                       //ÓÃwhileÐ´·¨Ö±µ½³õÊ¼»¯³É¹¦²Å»áÍË³öÑ­»·
   26   1      //              delay_ms(500);
   27   1      //      }       
   28   1              ips114_showstr(0,5,"dlla_intok...");
   29   1              pit_timer_ms(TIM_1, 1);                                    //³õÊ¼»¯¶¨Ê±Æ÷1×÷ÎªÖÜÆÚÖÐ¶Ï´¥·¢Æ÷£¬1MS½øÒ»´ÎÖ
             -Ð¶Ï
   30   1              ips114_showstr(0,6,"intall_intok...");
   31   1              delay_ms(500);
   32   1        ips114_clear(WHITE);          //ÇåÆÁ
   33   1      }
   34          void main()
   35          {
   36   1              
   37   1              WTST = 0;       //ÉèÖÃ³ÌÐò´úÂëµÈ´ý²ÎÊý£¬¸³ÖµÎª0¿É½«µ¥Æ¬»úÖ´ÐÐ³ÌÐòµÄËÙ¶ÈÉèÖÃÎª×î¿ì
   38   1              DisableGlobalIRQ();                                                                                                                                             //¹Ø±Õ×ÜÖÐ¶Ï
   39   1              board_init();                                                                                                                                                           //³õÊ¼»¯¼Ä´æÆ÷,ÎðÉ¾³ý´Ë¾ä´úÂë¡£
   40   1              delay_ms(800);                                                                                                                                                  //Èí¼þÉÔÎ¢ÑÓÊ±Ò»ÏÂ
   41   1        all_init();
   42   1              EnableGlobalIRQ();                                                                                                                      //³õÊ¼»¯Íê±Ï£¬¿ªÆô×ÜÖÐ¶Ï
   43   1              /****ÏÂÃæµÄ²âÊÔº¯ÊýÖ»ÊÇ²âÊÔÓÃ£¬²âÊÔ½áÊøÇë×¢ÊÍ¹Ø±Õ£¬Ò»´ÎÖ»ÔÊÐí¿ªÒ»¸ö²âÊÔº¯Êý£¡£¡******/
   44   1              //Test_Motor_Hardware();//µ÷ÊÔµç»úÊ¹ÓÃ
   45   1              //Test_Electric_Hardware();//²âÊÔµç´Åµç¸Ð²É¼¯
   46   1              /*************************************************************************************/
   47   1              while(1)
   48   1              {       
   49   2                      TaskProcess();        //ÖÐ¶ÏÈÎÎñ´¦Àí£¬µç´Å²É¼¯£¬µç»úÊä³öµÈ
   50   2                              ADC_Collect();  //µç¸Ð²ÉÖµ
   51   2      //              TaskProcess();        //ÖÐ¶ÏÈÎÎñ´¦Àí£¬µç´Å²É¼¯£¬µç»úÊä³öµÈ
   52   2      //    ips114_showint16(0,0,left_speed);
   53   2      //    ips114_showint16(0,1,right_speed);
   54   2      //    ips114_showint16(0,2,real_speed);
   55   2      //        ips114_showuint8(122,0,adc_value[0]);  
C251 COMPILER V5.60.0,  main                                                               25/05/24  09:55:38  PAGE 2   

   56   2      //              
   57   2                      //speed_measure();       //±àÂëÆ÷²âÁ¿
   58   2                      //Current_Dir=Direction_error(); //»ñµÃÈüµÀÆ«²î
   59   2                      //ips114_showfloat(122,1,Current_Dir);
   60   2      //              go_motor(800,800);                                                      
   61   2                      //Trailing_control();
   62   2                      //Speed_pwm_all += IncPIDCalc(&SpeedPID,aim_speed,real_speed);//D³µËÙ¶È»·£¨ÔöÁ¿Ê½£©                    
   63   2      //   µç¸ÐÏÔÊ¾
   64   2               ips114_showuint8(100,0,Left_Adc);  
   65   2               ips114_showuint8(100,1,Left_Shu_Adc);
   66   2               ips114_showuint8(100,2,Right_Shu_Adc);
   67   2               ips114_showuint8(100,3,Right_Adc); 
   68   2               ips114_showuint16(0,0,left_speed);
   69   2               ips114_showuint16(0,1,right_speed);
   70   2               //printf("%d,%d,%d,%d,%d,%d\n",road_type.straightbend,road_type.bend,Left_Adc,Left_Shu_Adc,Right_Shu_Ad
             -c,Right_Adc);
   71   2               printf("%d,%d,%d,%d\n",Left_Adc,Left_Shu_Adc,Right_Shu_Adc,Right_Adc);
   72   2               //printf("type=%d\n",road_type.bend);
   73   2              
   74   2              // ips114_showfloat(122,6,Current_Dir,2,1);//ÏÔÊ¾¸¡µãÊý   ÕûÊýÏÔÊ¾2Î»   Ð¡ÊýÏÔÊ¾1Î»
   75   2        }     
   76   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =    ------     ------
  ecode size           =       368     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        92     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
